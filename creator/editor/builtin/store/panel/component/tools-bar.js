"use struct";const t=require("../lib/utils"),e=(require("../lib/network"),require("../lib/event"));exports.template=t.getTemplate("tools-bar"),exports.data=function(){return{igrone:!1,maxLength:10,taskList:[],current:-1}},exports.methods={pushTask(t,e){if(this.igrone)return this.igrone=!1;for(;this.taskList.length>this.current+1;)this.taskList.pop();var s=this.taskList[this.taskList.length-1];if(!s||s.type!=t||s.id!=e){for(this.taskList.push({type:t,id:e});this.taskList.length>this.maxLength;)this.taskList.shift();this.current=this.taskList.length-1}},_onBack(){var t=this.taskList[this.current-1];t&&(this.igrone=!0,this.current-=1,e.$emit(`jump-${t.type}`,t.id))},_onForward(){var t=this.taskList[this.current+1];t&&(this.igrone=!0,this.current+=1,e.$emit(`jump-${t.type}`,t.id))},_onRefresh(){e.$emit("refresh-data")},_onGoHome(){e.$emit("jump-category",-1)},_onPackage(t){t.preventDefault(),t.stopPropagation(),e.$emit("download-changed",!1),e.$emit("package-changed",!0)},_onDownload(t){t.preventDefault(),t.stopPropagation(),e.$emit("package-changed",!1),e.$emit("download-changed",!0)}},exports.watch={},exports.ready=function(){e.$on("jump-category",t=>{this.pushTask("category",t)}),e.$on("jump-package",t=>{this.pushTask("package",t)}),this.pushTask("category",-1)};