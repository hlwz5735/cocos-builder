"use struct";const e=require("../lib/utils"),t=require("../lib/manager"),a=require("../lib/package");exports.template=e.getTemplate("package"),exports.props=["language"],exports.data=function(){return{removeLock:!1,tab:0,local:{},global:{}}},exports.methods={translate:e=>Editor.T(`store.package.${e}`),_onStopClick(e){e.preventDefault(),e.stopPropagation()},_onChangeTab(e){this.tab=e},_onOpenDir(e){require("electron").shell.showItemInFolder(e)},_onRemovePackage(e,t){if(this.removeLock)return Editor.warn(this.translate("wait")),void 0;1!==Editor.Dialog.messageBox({type:"warning",buttons:[this.translate("remove"),this.translate("cancel")],title:this.translate("remove_package"),message:this.translate("remove_package"),detail:`${this.translate("remove_info")} ${e} ?`,noLink:!0})&&(this.removeLock=!0,a.unload(e,()=>{this.removeLock=!1;let a=this[t];a&&a.some((t,o)=>{if(t.name===e)return a.splice(o,1),!0})}))}},exports.watch={},exports.ready=function(){this.local=t.searchLocal(),this.global=t.searchGlobal(),setInterval(()=>{t.searchLocal(),t.searchGlobal()},4e3)};