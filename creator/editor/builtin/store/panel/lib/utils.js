"use strict";const t=require("fire-fs"),e=require("fire-path"),r=require("crypto"),o=require("async"),n=require("url");exports.getTemplate=function(r){var o=e.join(__dirname,"../template",`${r}.html`);return t.existsSync(o)?t.readFileSync(o,"utf-8"):""},exports.randomID=function(t){t-=0,isNaN(t)&&(t=0);for(var e="",r=0;r<t;r++)e+=i();return e};var a=[[97,122],[65,90],[48,57]];function i(){var t=a,e=t.length;e=(t=t[Math.random()*(e-.001)|0])[1]-t[0];var r=t[0]+(Math.random()*(e-.001)|0);return String.fromCharCode(r)}exports.md5=function(t){var e=r.createHash("md5");return e.update(t||""),e.digest("hex")},exports.remove=function(r,n){t.readdir(r,function(a,i){if(a)return n(a);o.eachSeries(i,function(o,n){var a=e.join(r,o),i=t.statSync(a);setTimeout(function(){i.isDirectory()?exports.remove(a,function(e){e?n(e):t.remove(a,n)}):t.remove(a,n)},20)},function(e){setTimeout(function(){e?n(e):t.remove(r,n)},20)})})},exports.copy=function(e,r,o){try{t.copySync(e,r)}catch(t){return o&&o(t),void 0}o&&o(null)},exports.completionURL=function(t,e){let r=n.parse(t);if(e.attach){new RegExp(`${e.attach}&`).test(r.pathname)||(r.pathname+=e.attach)}return r.protocol||(r.protocol=e.protocol),r.host||(r.host=e.host),r.format()};