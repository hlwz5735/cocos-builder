"use strict";const e=require("fire-fs");exports.template=e.readFileSync(Editor.url("packages://project-settings/panel/template/module.html"),"utf-8"),exports.props=["excluded"],exports.data=function(){return{module:null,all:!1}},exports.methods={T:Editor.T,_updateAllChekced(){this.all=this.module.every(e=>e.checked)},_updateExcluded(){clearTimeout(this._timer),this._timer=setTimeout(()=>{this.excluded.length=0,this.module.forEach(e=>{e.checked||this.excluded.push(e.name)})},400)},_selectAll(e){this.all=e,this.module.forEach(d=>{d.locked||(d.checked=e)}),this._updateExcluded()},_selectModule(e,d){if(e.checked=d,d){let d=this.excluded.indexOf(e.name);this.excluded.splice(d,1),e.dependencies&&e.dependencies.forEach(e=>{this.module.some(d=>{if(d.name!==e)return!1;this._selectModule(d,!0)})})}else this.excluded.push(e.name),this.module.forEach(d=>{d.dependencies&&-1!==d.dependencies.indexOf(e.name)&&this._selectModule(d,!1)});this._updateAllChekced(),this._updateExcluded()}},exports.created=function(){var d=Editor.url("unpack://engine/modules.json"),t=e.readJsonSync(d);this.all=!0,t.forEach(e=>{this.excluded?e.checked=-1===this.excluded.indexOf(e.name):e.checked=!0,!1===e.checked&&(this.all=!1)}),this.module=t};