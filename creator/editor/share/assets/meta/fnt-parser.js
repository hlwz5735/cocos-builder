"use strict";var t={INFO_EXP:/info .*?(?=\/>)|info .*/gi,COMMON_EXP:/common .*?(?=\/>)|common .*/gi,PAGE_EXP:/page .*?(?=\/>)|page .*/gi,CHAR_EXP:/char .*?(?=\/>)|char .*/gi,KERNING_EXP:/kerning .*?(?=\/>)|kerning .*/gi,ITEM_EXP:/\w+=[^ \r\n]+/gi,INT_EXP:/^[\-]?\d+$/,_parseStrToObj:function(t){var e=t.match(this.ITEM_EXP),r={};if(e)for(var a=0,i=e.length;a<i;a++){var n=e[a],s=n.indexOf("="),o=n.substring(0,s),c=n.substring(s+1);'"'===c[0]?(c=c.substring(1,c.length-1)).match(this.INT_EXP)&&(c=parseInt(c)):c.match(this.INT_EXP)&&(c=parseInt(c)),r[o]=c}return r},parseFnt:function(t){var e={},r=t.match(this.INFO_EXP);if(!r)return e;var a=this._parseStrToObj(r[0]),i=this._parseStrToObj(t.match(this.COMMON_EXP)[0]);if(e.commonHeight=i.lineHeight,e.fontSize=parseInt(a.size),cc.game.renderType===cc.game.RENDER_TYPE_WEBGL){var n=cc.configuration.getMaxTextureSize();(i.scaleW>n.width||i.scaleH>n.height)&&Editor.log("cc.LabelBMFont._parseCommonArguments(): page can't be larger than supported")}1!==i.pages&&Editor.log("cc.LabelBMFont._parseCommonArguments(): only supports 1 page");var s=this._parseStrToObj(t.match(this.PAGE_EXP)[0]);0!==s.id&&Editor.log("cc.LabelBMFont._parseImageFileName() : file could not be found"),e.atlasName=s.file;for(var o=t.match(this.CHAR_EXP),c=e.fontDefDictionary={},h=0,g=o.length;h<g;h++){var f=this._parseStrToObj(o[h]);c[f.id]={rect:{x:f.x,y:f.y,width:f.width,height:f.height},xOffset:f.xoffset,yOffset:f.yoffset,xAdvance:f.xadvance}}var E=e.kerningDict={},m=t.match(this.KERNING_EXP);if(m)for(h=0,g=m.length;h<g;h++){var _=this._parseStrToObj(m[h]);E[_.first<<16|65535&_.second]=_.amount}return e}};module.exports=t;