const e=require("del"),r=require("globby");let n="undefined"!=typeof Editor;module.exports=function(o){let i=!1;return{transform(){i=!0},compileFinished(t,c){if(i){let t=[o("bin/.cache/*"),"!"+o("bin/.cache/dev")];if(0==r.sync(t).length)return c();n?Editor.log(Editor.T("QUICK_COMPILER.engine_modified_info")):console.log("JavaScript Engine changes detected and the build cache was deleted.");try{e.sync(t,{force:!0})}catch(e){n?Editor.error(e):console.error(e)}i=!1}c()}}};