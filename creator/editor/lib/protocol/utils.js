"use strict";const e=require("path"),t={engine:{dev:"engine",release:"../engine"},"engine-dev":{dev:"engine/bin/.cache/dev",release:"../engine/bin/.cache/dev"},simulator:{dev:"simulator",release:"simulator"},static:{dev:"editor/static",release:"../static"},templates:{dev:"templates",release:"../templates"},utils:{dev:"utils",release:"../utils"},editor:{dev:"editor",release:"editor"},node_modules:{dev:"",release:""}};let a=e.relative(t.engine.release,t["engine-dev"].release);exports.unpackUrl2path=function(i){let n=i.hostname,s=i.pathname||"",r=t[n];if(!r)return Editor.error(`Unrecognized unpack host '${n}'! Please validate your url.`),null;let o=Editor.isMainProcess?Editor.Profile:Editor.remote.Profile,l=o.load("profile://local/settings.json"),d=l.data;!1!==l.data["use-global-engine-setting"]&&(d=o.load("profile://global/settings.json").data);let p=Editor.isMainProcess?Editor.App.path:Editor.appPath,u=Editor.dev?r.dev:r.release;if(!u)return s.replace(/^[/\\]/,"");switch(n){case"simulator":p=d["use-default-cpp-engine"]?Editor.builtinCocosRoot||Editor.remote.builtinCocosRoot||"":d["cpp-engine-path"]||"";break;case"engine-dev":case"engine":!d["use-default-js-engine"]&&d["js-engine-path"]&&(p=d["js-engine-path"],u="engine-dev"===n?a:"")}return e.join(p,u,s)},exports.unpackMapping=t;