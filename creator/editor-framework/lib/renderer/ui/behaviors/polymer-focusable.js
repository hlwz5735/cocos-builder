"use strict";function e(e){let s=e.parentElement;for(;s;){if(null!==s.tabIndex&&void 0!==s.tabIndex&&-1!==s.tabIndex)return s.tabIndex;s=s.parentElement}return 0}let s={"ui-focusable":!0,properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},noNavigate:{type:Boolean,value:!1,reflectToAttribute:!0}},_initFocusable:function(e){e?Array.isArray(e)?this.focusEls=e:this.focusEls=[e]:this.focusEls=[],this._initTabIndex(),this._losingFocus=!1},_initTabIndex(){var s;if(this.focusEls)if(this.noNavigate||this.disabled)for(s=0;s<this.focusEls.length;++s)this.focusEls[s].tabIndex=-1;else for(s=0;s<this.focusEls.length;++s)this.focusEls[s].tabIndex=e(this)+1},_removeTabIndex(){if(this.focusEls)for(var e=0;e<this.focusEls.length;++e){this.focusEls[e].tabIndex=-1}},_disabledInHierarchy(){if(this.disabled)return!0;for(var e=Polymer.dom(this).parentNode;e;){if(e.disabled)return!0;e=Polymer.dom(e).parentNode}return!1},_focusedChanged(){this.disabled&&this._setFocused(!1)},_disabledChanged(e){e?(this.style.pointerEvents="none",function e(s){void 0!==s.focused&&void 0!==s._initTabIndex&&(s._setFocused(!1),s._removeTabIndex());var t=Polymer.dom(s);for(var i=0;i<t.children.length;++i)e(t.children[i])}(this)):(this.style.pointerEvents="",function e(s){void 0!==s.focused&&void 0!==s._initTabIndex&&!1===s.disabled&&s._initTabIndex();var t=Polymer.dom(s);for(var i=0;i<t.children.length;++i)e(t.children[i])}(this))},_onFocus(){this._setFocused(!0)},_onBlur(){this._setFocused(!1)},setFocus(){this._disabledInHierarchy()||(this.focusEls.length>0&&this.focusEls[0].focus(),this._setFocused(!0))},setBlur(){this._disabledInHierarchy()||(this.focusEls.length>0&&this.focusEls[0].blur(),this._setFocused(!1))}};module.exports=s;