"use strict";const e=require("fs"),t=require("path"),r=require("../utils");exports.template=e.readFileSync(t.join(__dirname,"../template/tab-project.html"),"utf-8"),exports.props=["projects","filter","isloggedin","skip"],exports.data=function(){return{selected:-1,path:""}},exports.methods={t:e=>Editor.T(e),jumpCreateProject(){r.event.emit("change-tab","create"),r.event.emit("change-filter","")},updatePath(e){if(!e){let t=this.projects[this.selected];e=t?t.path:""}this.path=e},getProjectIcon:()=>Editor.url("app://dashboard/static/img/cocos_logo.png"),clearSelected(){this.selected=-1,this.updatePath()},selectProject(e){event.stopPropagation(),event.preventDefault(),this.selected=e},openProject(e){event.stopPropagation(),event.preventDefault(),Editor.Ipc.sendToMain("app:open-project",e,!!this.isloggedin,(e,t)=>{e&&r.event.emit("change-error-message",e.message),t&&!t.abort&&r.event.emit("update-projects")}),this.clearSelected()},removeProject(e){Editor.Ipc.sendToMain("app:close-project",e),r.event.emit("update-projects")},filterProject:(e,t)=>!e.name||!t||-1!==e.name.toLowerCase().indexOf(t.toLowerCase())},exports.ready=function(){};